(function(e){function t(t){for(var i,o,r=t[0],l=t[1],c=t[2],p=0,d=[];p<r.length;p++)o=r[p],s[o]&&d.push(s[o][0]),s[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},s={app:0},n=[];function o(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"011e51b6"}[e]+".js"}function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(function(t,i){a=s[e]=[t,i]});t.push(a[2]=i);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(e),n=function(t){l.onerror=l.onload=null,clearTimeout(c);var a=s[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+i+": "+n+")");o.type=i,o.request=n,a[1](o)}s[e]=void 0}};var c=setTimeout(function(){n({type:"timeout",target:l})},12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/places-to-visit__live/",r.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var i=a("1356"),s=a.n(i);s.a},1356:function(e,t,a){},"19b9":function(e,t,a){"use strict";var i=a("8b50"),s=a.n(i);s.a},3734:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d"),a("becf");var i=a("2b0e"),s=a("bb71"),n=a("7496"),o=a("0798"),r=a("c6a6"),l=a("8336"),c=a("b0af"),p=a("169a"),u=a("ce7e"),d=a("0e8f"),f=a("ce87"),m=a("132d"),v=a("b675"),g=a("8860"),h=a("f774"),b=a("6b53"),y=a("9910"),V=a("71d9"),_=a("3a2f"),w=a("0789"),I=a("3ccf");a("da64");i["a"].use(s["b"],{theme:{primary:"#3f51b5",secondary:"#1e88e5",accent:"#e91e63",error:"#f44336",info:"#03a9f4",success:"#4caf50",warning:"#ff9800"},iconfont:"fa",components:{VApp:n["a"],VAlert:o["a"],VAutocomplete:r["a"],VBtn:l["a"],VCard:c["a"],VGrid:s["VGrid"],VDialog:p["a"],VDivider:u["a"],VFlex:d["a"],VHover:f["a"],VIcon:m["a"],VInput:v["a"],VList:g["a"],VNavigationDrawer:h["a"],VResponsive:b["a"],VSpacer:y["a"],VToolbar:V["a"],VTooltip:_["a"],VFadeTransition:w["b"]},directives:{Ripple:I["a"]}});var O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("app-menu"),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":"","grid-list-xl":""}},[a("router-view")],1)],1)],1)},P=[],L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-navigation-drawer",{attrs:{clipped:"",fixed:"",app:""},model:{value:e.isMenuVisible,callback:function(t){e.isMenuVisible=t},expression:"isMenuVisible"}},e._l(e.menuItems,function(t){return i("v-list",{key:t.name,attrs:{dense:"",ripple:""}},[i("v-list-tile",{attrs:{to:t.path,exact:t.isExact,"active-class":"primary--text font-weight-bold",ripple:""}},[i("v-list-tile-action",[i("v-icon",{attrs:{small:""}},[e._v(e._s(t.icon))])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v(e._s(t.name))])],1)],1)],1)}),1),i("v-toolbar",{attrs:{app:"",color:"primary",dark:"",dense:"","clipped-left":""}},[i("v-toolbar-side-icon",{staticClass:"mr-3",on:{click:function(t){t.stopPropagation(),e.isMenuVisible=!e.isMenuVisible}}}),i("router-link",{attrs:{to:"/"}},[i("v-toolbar-title",{staticClass:"headline",attrs:{dense:"",height:"60"}},[i("span",{staticClass:"white--text"},[i("img",{staticClass:"mr-2",attrs:{alt:"page logo",src:a("cf05"),height:"22"}}),e._v("MyPlaces\n        ")])])],1),i("v-spacer"),i("span",[e._v(e._s(this.$store.getters.userName))]),i("router-link",{attrs:{to:"/404"}},[i("v-btn",{attrs:{flat:"",fab:"",small:""}},[i("v-icon",[e._v("fa fa-sign-out-alt")])],1)],1)],1)],1)},x=[],C={data:function(){return{menuItems:[{name:"Places to visit",path:"/",icon:"fa fa-map-marker-alt",isExact:!0},{name:"Item1",path:"/Item1",icon:"fa fa-th-large",isExact:!1},{name:"Item2",path:"/Item2",icon:"fa fa-flask",isExact:!1}]}}},M={data:function(){return{isMenuVisible:!1}},mixins:[C]},k=M,A=a("2877"),j=a("6544"),T=a.n(j),D=a("ba95"),S=a("40fe"),$=a("5d23"),E=a("706c"),G=a("2a7f"),N=Object(A["a"])(k,L,x,!1,null,null,null),F=N.exports;T()(N,{VBtn:l["a"],VIcon:m["a"],VList:g["a"],VListTile:D["a"],VListTileAction:S["a"],VListTileContent:$["a"],VListTileTitle:$["b"],VNavigationDrawer:h["a"],VSpacer:y["a"],VToolbar:V["a"],VToolbarSideIcon:E["a"],VToolbarTitle:G["a"]});var B={name:"App",data:function(){return{drawer:!1}},props:{source:String},components:{"app-menu":F}},R=B,q=(a("034f"),a("a523")),Q=a("549c"),W=Object(A["a"])(R,O,P,!1,null,null,null),z=W.exports;T()(W,{VApp:n["a"],VContainer:q["a"],VContent:Q["a"]});var J=a("8c4f"),Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"page-container",attrs:{row:"",wrap:"","justify-space-between":""}},[a("v-flex",{attrs:{xs12:"",md7:"",lg8:""}},[a("app-gmap",{attrs:{"map-options":e.placeData}})],1),a("v-flex",{staticClass:"places-pane",attrs:{xs12:"",md5:"",lg4:""}},[a("h2",{staticClass:"headline font-weight-medium mb-3"},[e._v("Places to visit")]),a("v-autocomplete",{staticClass:"mb-3",attrs:{color:"primary",items:e._f("uniqueValuesFromObjectsArray")(e.placesList,["country","city","name"]),"hide-no-data":"","hide-selected":"",clearable:"",label:"Search for saved place",placeholder:"Type in place","prepend-icon":"fas fa-search","return-object":""},model:{value:e.placeQuery,callback:function(t){e.placeQuery=t},expression:"placeQuery"}}),e.placesListAlert.isVisible&&e.placesListFiltered.length>0?a("v-alert",{staticClass:"mb-2",attrs:{value:!0,type:e.placesListAlert.type,dismissible:"",transition:"scale-transition",icon:e.adjustFaIcon(this.placesListAlert.type)}},[e._v(e._s(e.placesListAlert.message))]):e._e(),a("v-list",{staticClass:"transparent"},[e.placesListFiltered.length>0?e._l(e.placesListFiltered,function(e){return a("app-place-card",{key:e.id,attrs:{placeData:e}})}):a("v-alert",{attrs:{value:!0,type:"info"}},[e._v("\n        No places added yet. Chose (double click) any interactive point from map.\n      ")])],2)],1),a("app-gmap-dialog")],1)},K=[],U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gmap"},[a("div",{ref:"map",staticClass:"gmap__view"},[a("div",{attrs:{hidden:""}},[a("div",{ref:"infoWindow"},[e.clickedMapPOI?a("span",{staticClass:"poi__name"},[e._v(e._s(e.clickedMapPOI.name))]):e._e(),e.clickedMapPOI?a("span",{staticClass:"poi__address"},[e._v(e._s(e.clickedMapPOI["formatted_address"]))]):e._e(),e.isInfoWindowSaveOptionVisible?a("div",{staticClass:"clearfix poi__add"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],staticClass:"poi__userName",attrs:{type:"text",placeholder:"type in your name"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),a("button",{staticClass:"dismissButton poi__save",attrs:{flat:"",small:""},on:{click:function(t){return e.addPlace()}}},[e._v("Save place")])]):e._e()])])])])},H=[],X=(a("7f7f"),{props:{mapOptions:{type:Object,required:!1}},data:function(){return{GoogleMapsLoader:null,map:null,userName:"",clickedMapPOI:null,infowindowInstance:null,isInfoWindowSaveOptionVisible:!0}},watch:{clickedMapPOI:{handler:function(){},deep:!0},mapOptions:{handler:function(e){this.infowindowInstance.close(),this.map.setCenter({lat:e.geometry.lat,lng:e.geometry.lng}),this.map.setZoom(e.zoom),this.isInfoWindowSaveOptionVisible=!1,this.getPlaceInformation(e.id)},deep:!0}},computed:{POICountry:function(){return this.clickedMapPOI?this.clickedMapPOI["address_components"].filter(function(e){return"country"===e.types[0]})[0]["long_name"]:""},POICity:function(){return this.clickedMapPOI?this.clickedMapPOI["address_components"].filter(function(e){return"administrative_area_level_2"===e.types[0]})[0]["long_name"]:""}},methods:{addPlace:function(){var e=this,t=this.clickedMapPOI["place_id"];if(this.userName)if(this.$store.getters.checkIfPlaceIsOnList(t))De.$emit("toggleGMapDialog",{isVisible:!0,type:"info",message:"This place is already on your list."});else{var a={id:t,name:this.clickedMapPOI.name,country:e.POICountry,city:e.POICity,address:this.clickedMapPOI["formatted_address"],geometry:{lat:this.clickedMapPOI.geometry.location.lat(),lng:this.clickedMapPOI.geometry.location.lng()},user:this.userName};this.$store.commit("addPlaceToList",a),e.infowindowInstance.close()}else De.$emit("toggleGMapDialog",{isVisible:!0,type:"error",message:"Please, type in your name before adding place to list."})},handleClick:function(e){e.placeId&&(e.stop(),this.isInfoWindowSaveOptionVisible=!0,this.getPlaceInformation(e.placeId))},getPlaceInformation:function(e){var t=this,a=new google.maps.places.PlacesService(t.map);a||De.$emit("toggleGMapDialog",{isVisible:!0,type:"info",message:"Development mode: Vue server refreshed. Please reload the page to restore google map functionalities."}),a.getDetails({placeId:e},function(e,a){"OK"===a?(t.clickedMapPOI=e,t.infowindowInstance=new google.maps.InfoWindow({content:t.$refs.infoWindow}),t.infowindowInstance.close(),t.infowindowInstance.setPosition(new google.maps.LatLng(e.geometry.location.lat(),e.geometry.location.lng())),t.infowindowInstance.open(t.map)):"OVER_QUERY_LIMIT"===a&&De.$emit("toggleGMapDialog",{isVisible:!0,type:"warning",message:"Limited free map queries has now been exceed. \nPlease wait for a minute (or more if needed) and refresh page"})})}},created:function(){this.GoogleMapsLoader=a("2ee3"),this.GoogleMapsLoader.KEY="AIzaSyAXB18uY6Auv7VLcA_uylJ22xd_VdrnD5c",this.GoogleMapsLoader.LANGUAGE="en",this.GoogleMapsLoader.REGION="PL",this.GoogleMapsLoader.VERSION="3.35",this.GoogleMapsLoader.LIBRARIES=["geometry","places"]},mounted:function(){var e=this,t=this.$refs["map"];this.GoogleMapsLoader.onLoad(function(e){}),this.GoogleMapsLoader.load(function(a){e.map=new a.maps.Map(t,e.mapOptions),e.map.addListener("click",e.handleClick.bind(this))})},destroyed:function(){this.GoogleMapsLoader.release(function(){})}}),Z=X,ee=(a("19b9"),Object(A["a"])(Z,U,H,!1,null,"f37533e0",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mb-3"},[a("v-container",{staticClass:"pa-0"},[a("v-layout",{staticClass:"align-items-center",attrs:{row:"",wrap:"","justify-space-between":""}},[a("v-flex",{staticClass:"place-data"},[a("v-card-title",{staticClass:"py-0 pl-3"},[a("div",[a("span",{staticClass:"title d-block"},[e._v(e._s(e.placeData.name))]),a("span",{staticClass:"subheading grey--text d-block mt-1"},[e._v(e._s(e.placeData.country)+", "+e._s(e.placeData.city))]),a("span",{staticClass:"caption grey--text d-block mt-1"},[a("kbd",{staticClass:"gray"},[e._v(e._s(e.placeData.user))])])])])],1),a("v-flex",{staticClass:"actions-wrapper",attrs:{"justify-space-between":""}},[a("v-card-actions",{staticClass:"py-0"},[a("v-tooltip",{staticClass:"mr-3",attrs:{top:""}},[a("v-btn",{staticClass:"elevation-1",attrs:{slot:"activator",fab:"",small:"",dark:"",color:"info"},on:{click:function(t){return e.showPlaceOnMap(t,e.placeData.id,e.placeData.geometry)}},slot:"activator"},[a("v-icon",[e._v("fas fa-map-marker-alt")])],1),a("span",[e._v("Show on map")])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"elevation-1",attrs:{slot:"activator",fab:"",small:"",dark:"",color:"error"},on:{click:function(t){return e.removePlaceFromList(t,e.placeData.id)}},slot:"activator"},[a("v-icon",[e._v("fa fa-trash")])],1),a("span",[e._v("Remove place from list")])],1)],1)],1)],1)],1)],1)},ie=[],se={props:{placeData:{type:Object,required:!0}},methods:{removePlaceFromList:function(e,t){this.$store.commit("removePlaceFromList",t)},showPlaceOnMap:function(e,t,a){De.$emit("showPlaceOnMap",{id:t,geometry:a})}}},ne=se,oe=(a("c578"),a("99d9")),re=a("12b2"),le=a("a722"),ce=Object(A["a"])(ne,ae,ie,!1,null,"44a0b6ac",null),pe=ce.exports;T()(ce,{VBtn:l["a"],VCard:c["a"],VCardActions:oe["a"],VCardTitle:re["a"],VContainer:q["a"],VFlex:d["a"],VIcon:m["a"],VLayout:le["a"],VTooltip:_["a"]});var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"300"},model:{value:e.dialogIsVisible,callback:function(t){e.dialogIsVisible=t},expression:"dialogIsVisible"}},[a("v-card",[a("v-card-text",[a("v-icon",{staticClass:"d-block mb-2 text-xs-center",attrs:{large:"",color:e.dialogType}},[e._v(e._s(e.adjustFaIcon(e.dialogType)))]),e._v("\n            "+e._s(e.dialogMessage)+"\n        ")],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",flat:""},on:{click:function(t){e.dialogIsVisible=!1}}},[e._v("Ok")])],1)],1)],1)},de=[],fe={methods:{adjustFaIcon:function(e){switch(e){case"error":return"fas fa-exclamation-triangle";case"warning":return"fas fa-exclamation";case"success":return"fas fa-check-circle";default:return"fas fa-info-circle"}}}},me={mixins:[fe],props:{isVisible:{type:Boolean,required:!1,default:!1},message:{type:String,required:!1,default:""},type:{type:String,required:!1,default:"error"}},data:function(){return{dialogIsVisible:this.isVisible,dialogMessage:this.message,dialogType:this.type}},created:function(){var e=this;De&&De.$on("toggleGMapDialog",function(t){e.dialogIsVisible=t.isVisible,e.dialogMessage=t.message,e.dialogType=t.type})},beforeDestroy:function(){De&&De.$off()}},ve=me,ge=Object(A["a"])(ve,ue,de,!1,null,null,null),he=ge.exports;T()(ge,{VBtn:l["a"],VCard:c["a"],VCardActions:oe["a"],VCardText:oe["b"],VDialog:p["a"],VDivider:u["a"],VIcon:m["a"],VSpacer:y["a"]});a("6b54"),a("4917");var be=a("a4bb"),ye=a.n(be),Ve=(a("3b2b"),a("b6d0")),_e=a.n(Ve),we=a("75fc");a("55dd");function Ie(e,t){if(t.length<=0)return e;var a=t.map(function(t){return Object(we["a"])(new _e.a(e.map(function(e){return e[t]}))).sort()});return[].concat.apply([],a)}function Oe(e,t,a){return t&&a?e.some(function(e){return e[t]===a}):e}function Pe(e,t){if("string"!==typeof t||""===t)return e;var a=new RegExp(t,"gi");return e.filter(function(e){return ye()(e).some(function(t){return e[t].toString().match(a)})})}var Le={methods:{filterObjectsArrayByValueQuery:Pe}},xe={components:{"app-gmap":te,"app-place-card":pe,"app-gmap-dialog":he},mixins:[Le,fe],data:function(){return{placeQuery:"",placeData:{center:{lat:52.237049,lng:21.017532},zoom:11},placesListAlert:{isVisible:!1,type:"info",message:""},numOfPlaces:null}},computed:{placesList:function(){return this.$store.getters.places},placesListFiltered:function(){return this.filterObjectsArrayByValueQuery(this.placesList,this.placeQuery)}},methods:{closePlacesListAlert:function(e){var t=this;setTimeout(function(){t.placesListAlert.isVisible=!1},e)}},watch:{placesList:{handler:function(e){this.numOfPlaces=e.length},deep:!0,immediate:!0},numOfPlaces:function(e,t){e>t&&(this.placesListAlert.isVisible=!0,this.placesListAlert.type="success",this.placesListAlert.message="New place has been added"),e<t&&(this.placesListAlert.isVisible=!0,this.placesListAlert.type="error",this.placesListAlert.message="Place has been successfully removed"),this.closePlacesListAlert(8e3)}},created:function(){var e=this;De.$on("showPlaceOnMap",function(t){e.placeData={geometry:t.geometry,zoom:12,id:t.id}})}},Ce=xe,Me=(a("87b4"),Object(A["a"])(Ce,Y,K,!1,null,"00bb7443",null)),ke=Me.exports;T()(Me,{VAlert:o["a"],VAutocomplete:r["a"],VFlex:d["a"],VLayout:le["a"],VList:g["a"]}),i["a"].use(J["a"]);var Ae=new J["a"]({mode:"history",base:"/places-to-visit__live/",routes:[{path:"/",name:"home",component:ke},{path:"*",name:"404",component:function(){return a.e("about").then(a.bind(null,"8cdb"))}}]}),je=a("2f62");i["a"].use(je["a"]);var Te=new je["a"].Store({state:{layout:{isMenuVisible:!1},user:{name:"John Doe"},places:[]},getters:{places:function(e){return e.places},userName:function(e){return e.user.name},checkIfPlaceIsOnList:function(e){return function(t){return Oe(e.places,"id",t)}}},mutations:{removePlaceFromList:function(e,t){e.places=e.places.filter(function(e){return e.id!==t})},addPlaceToList:function(e,t){var a=Oe(e.places,"id",t["id"]);a||e.places.unshift(t)}},actions:{}});i["a"].filter("uniqueValuesFromObjectsArray",Ie),a.d(t,"eventBus",function(){return De});var De=new i["a"];i["a"].config.productionTip=!1,new i["a"]({router:Ae,store:Te,render:function(e){return e(z)}}).$mount("#app")},"87b4":function(e,t,a){"use strict";var i=a("3734"),s=a.n(i);s.a},"8b50":function(e,t,a){},c578:function(e,t,a){"use strict";var i=a("e9d4"),s=a.n(i);s.a},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},e9d4:function(e,t,a){}});
//# sourceMappingURL=app.2cd24fdd.js.map